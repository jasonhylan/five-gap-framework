<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Five Gap Framework</title>
    
    <!-- Load Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Load React -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    
    <!-- Load Babel to understand JSX -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState } = React;

        // --- Custom Icons ---
        const IconBase = ({ children, size = 24, className = "" }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}>
                {children}
            </svg>
        );

        const MapPin = (props) => <IconBase {...props}><path d="M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z"/><circle cx="12" cy="10" r="3"/></IconBase>;
        const Layout = (props) => <IconBase {...props}><rect width="18" height="18" x="3" y="3" rx="2" ry="2"/><line x1="3" x2="21" y1="9" y2="9"/><line x1="9" x2="9" y1="21" y2="9"/></IconBase>;
        const MessageSquare = (props) => <IconBase {...props}><path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"/></IconBase>;
        const Star = (props) => <IconBase {...props}><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/></IconBase>;
        const Users = (props) => <IconBase {...props}><path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"/><circle cx="9" cy="7" r="4"/><path d="M22 21v-2a4 4 0 0 0-3-3.87"/><path d="M16 3.13a4 4 0 0 1 0 7.75"/></IconBase>;
        const ArrowRight = (props) => <IconBase {...props}><line x1="5" y1="12" x2="19" y2="12"/><polyline points="12 5 19 12 12 19"/></IconBase>;
        const ArrowDown = (props) => <IconBase {...props}><line x1="12" y1="5" x2="12" y2="19"/><polyline points="19 12 12 19 5 12"/></IconBase>;
        const AlertCircle = (props) => <IconBase {...props}><circle cx="12" cy="12" r="10"/><line x1="12" y1="8" x2="12" y2="12"/><line x1="12" y1="16" x2="12.01" y2="16"/></IconBase>;
        const CheckCircle2 = (props) => <IconBase {...props}><circle cx="12" cy="12" r="10"/><path d="m9 12 2 2 4-4"/></IconBase>;
        const Activity = (props) => <IconBase {...props}><polyline points="22 12 18 12 15 21 9 3 6 12 2 12"/></IconBase>;
        const ClipboardList = (props) => <IconBase {...props}><rect width="8" height="4" x="8" y="2" rx="1" ry="1"/><path d="M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"/><path d="M12 11h4"/><path d="M12 16h4"/><path d="M8 11h.01"/><path d="M8 16h.01"/></IconBase>;
        const Network = (props) => <IconBase {...props}><rect x="16" y="16" width="6" height="6" rx="1"/><rect x="2" y="16" width="6" height="6" rx="1"/><rect x="9" y="2" width="6" height="6" rx="1"/><path d="M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3"/><path d="M12 12V8"/></IconBase>;
        const XCircle = (props) => <IconBase {...props}><circle cx="12" cy="12" r="10"/><line x1="15" y1="9" x2="9" y2="15"/><line x1="9" y1="9" x2="15" y2="15"/></IconBase>;
        const Trophy = (props) => <IconBase {...props}><path d="M6 9H4.5a2.5 2.5 0 0 1 0-5H6"/><path d="M18 9h1.5a2.5 2.5 0 0 0 0-5H18"/><path d="M4 22h16"/><path d="M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22"/><path d="M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22"/><path d="M18 2H6v7a6 6 0 0 0 12 0V2Z"/></IconBase>;
        const Search = (props) => <IconBase {...props}><circle cx="11" cy="11" r="8"/><line x1="21" x2="16.65" y1="21" y2="16.65"/></IconBase>;
        const Radio = (props) => <IconBase {...props}><circle cx="12" cy="12" r="2"/><path d="M16.24 7.76a6 6 0 0 1 0 8.49m-8.48-.01a6 6 0 0 1 0-8.49m11.31-2.82a10 10 0 0 1 0 14.14m-14.14 0a10 10 0 0 1 0-14.14"/></IconBase>;

        const gapsData = [
          {
            id: 1,
            name: "Visibility Gap",
            icon: MapPin,
            question: "Can they find you?",
            symptom: `"I'm not showing up on the map."`,
            reality: "When someone searches 'divorce attorney near me,' the firm doesn't appear, appears too low, or has patchwork visibility. It's often a shape and coverage problem, not just reach.",
            chainImpact: "For active searchers, this is the first gate. If they can't find you, nothing else matters. However, other traffic sources (referrals, ads) bypass this gap entirely.",
            diagnostic: "If someone searched your primary keyword from 20 different points across your market, how many of those would show your firm in the top 3?",
            fixType: "Quick Fix (Firm Asset)",
            color: "bg-blue-100 text-blue-800 border-blue-300",
            activeColor: "bg-blue-600 text-white"
          },
          {
            id: 2,
            name: "Positioning Gap",
            icon: Layout,
            question: "Do you stand out once they find you?",
            symptom: `Most don't realize this is a problem. They think their site looks different.`,
            reality: "The website leads with generic credentials, multiple practice areas, and cliché imagery (city skylines, team photos). It describes what they do without communicating WHY someone should choose them.",
            chainImpact: "When a consumer visits 3 websites that look identical, they can't decide. The positioning gap pushes the consumer into the trust gap.",
            diagnostic: "If another attorney swapped their logo onto your website, would anything feel wrong?",
            fixType: "Quick Fix (Firm Asset)",
            color: "bg-indigo-100 text-indigo-800 border-indigo-300",
            activeColor: "bg-indigo-600 text-white"
          },
          {
            id: 3,
            name: "Message Gap",
            icon: MessageSquare,
            question: "Does your copy connect, or does it just inform?",
            symptom: `"People visit my site but don't call." (Usually blamed on traffic/ads)`,
            reality: "The copy is written from the firm's perspective ('we provide', 'our team') rather than the client's perspective ('you're scared', 'you need someone'). It lacks emotional resonance.",
            chainImpact: "Even with differentiated positioning, a clinical website confirms their fear that lawyers don't get what they're going through. They leave.",
            diagnostic: "Read your homepage out loud. Does it sound like you're talking to a person going through the worst year of their life, or does it sound like a brochure?",
            fixType: "Quick Fix (Firm Asset)",
            color: "bg-purple-100 text-purple-800 border-purple-300",
            activeColor: "bg-purple-600 text-white"
          },
          {
            id: 4,
            name: "Trust Gap",
            icon: Star,
            question: "Are you externally validated for a decision this big?",
            symptom: `"I don't have enough reviews" or "I need more reviews."`,
            reality: "It's about volume AND specificity. Generic reviews ('professional', 'responsive') confirm competence but don't create connection. Consumers want to read about someone who survived exactly what they are going through.",
            chainImpact: "When pushed to reviews as a tiebreaker, generic reviews leave the consumer stuck. Google's random review snippet could make or break the decision.",
            diagnostic: "If Google pulled any random review from your profile and showed it to a stranger, would that review help them choose you over the attorney listed above and below you?",
            fixType: "Compound/Long-term (External)",
            color: "bg-pink-100 text-pink-800 border-pink-300",
            activeColor: "bg-pink-600 text-white"
          },
          {
            id: 5,
            name: "Familiarity Gap",
            icon: Users,
            question: "Can they experience working with you before they call?",
            symptom: `"I have to sell myself hard on every single consultation."`,
            reality: "The website relies on text and generic photos (skylines, scales of justice). The consumer can't get a feel for the attorney's personality, empathy, or communication style until they actually book a call.",
            chainImpact: "They have to find you first. But once they do, video is the ultimate closer. By using video to show empathy during the research phase, you create a parasocial relationship. The prospect walks into the consult already feeling like they know you.",
            diagnostic: "Can a prospect watch 5 minutes of you speaking, explaining, and showing empathy before they ever pick up the phone?",
            fixType: "High-Impact Asset (Video)",
            color: "bg-rose-100 text-rose-800 border-rose-300",
            activeColor: "bg-rose-600 text-white"
          }
        ];

        function App() {
          const [activeTab, setActiveTab] = useState('flowchart');
          const [activeGap, setActiveGap] = useState(gapsData[0]);
          const [assessmentScores, setAssessmentScores] = useState({});
          const [assessmentComplete, setAssessmentComplete] = useState(false);

          const handleAssessmentChange = (gapId, value) => {
            setAssessmentScores(prev => ({ ...prev, [gapId]: value }));
          };

          const calculateResults = () => {
            setAssessmentComplete(true);
          };

          const resetAssessment = () => {
            setAssessmentScores({});
            setAssessmentComplete(false);
          };

          return (
            <div className="min-h-screen bg-slate-50 text-slate-900 font-sans pb-12">
              <header className="bg-slate-900 text-white py-12 px-6">
                <div className="max-w-6xl mx-auto">
                  <h1 className="text-4xl font-bold mb-4 tracking-tight">The Five Gap Framework</h1>
                  <p className="text-xl text-slate-300 max-w-3xl leading-relaxed">
                    A diagnostic framework identifying the five places where a divorce attorney's marketing breaks down 
                    between "someone needs a divorce attorney" and "someone calls your firm."
                  </p>
                </div>
              </header>

              <div className="max-w-6xl mx-auto px-6 mt-8 mb-8">
                <div className="flex flex-wrap gap-2 md:gap-4 border-b border-slate-200 pb-px">
                  <button 
                    onClick={() => setActiveTab('flowchart')}
                    className={`pb-4 px-4 text-sm font-semibold tracking-wide transition-colors ${activeTab === 'flowchart' ? 'border-b-2 border-slate-900 text-slate-900' : 'text-slate-500 hover:text-slate-700'}`}
                  >
                    <div className="flex items-center gap-2">
                      <Network size={18} />
                      Ecosystem Flowchart
                    </div>
                  </button>
                  <button 
                    onClick={() => setActiveTab('framework')}
                    className={`pb-4 px-4 text-sm font-semibold tracking-wide transition-colors ${activeTab === 'framework' ? 'border-b-2 border-slate-900 text-slate-900' : 'text-slate-500 hover:text-slate-700'}`}
                  >
                    <div className="flex items-center gap-2">
                      <Activity size={18} />
                      Interactive Framework
                    </div>
                  </button>
                  <button 
                    onClick={() => setActiveTab('assessment')}
                    className={`pb-4 px-4 text-sm font-semibold tracking-wide transition-colors ${activeTab === 'assessment' ? 'border-b-2 border-slate-900 text-slate-900' : 'text-slate-500 hover:text-slate-700'}`}
                  >
                    <div className="flex items-center gap-2">
                      <ClipboardList size={18} />
                      Diagnostic Assessment
                    </div>
                  </button>
                </div>
              </div>

              <main className="max-w-6xl mx-auto px-6">
                {activeTab === 'flowchart' && (
                  <div className="max-w-5xl mx-auto py-8 animate-in fade-in duration-500">
                    <div className="text-center mb-12">
                      <h2 className="text-3xl font-bold mb-4">The Real-World Ecosystem</h2>
                      <p className="text-slate-600 max-w-3xl mx-auto text-lg leading-relaxed">
                        Consumers don't follow a straight line. Depending on how they find you, they bounce between your Google Profile and your Website looking for a reason to trust you.
                      </p>
                    </div>

                    <div className="space-y-8 relative">
                      
                      {/* ENTRY POINTS */}
                      <div className="grid grid-cols-1 md:grid-cols-3 gap-6 relative z-10">
                        
                        {/* Source 1: Search */}
                        <div className="flex flex-col items-center h-full">
                          <div className="bg-white border-2 border-slate-200 rounded-2xl p-6 shadow-sm w-full text-center relative">
                            <div className="absolute -top-5 left-1/2 -translate-x-1/2 bg-slate-900 text-white p-2 rounded-full shadow-md">
                              <Search size={20} />
                            </div>
                            <h3 className="font-bold text-lg text-slate-800 mt-2 mb-1">Active Search</h3>
                            <p className="text-sm text-slate-500">Google Map Pack & Organic</p>
                          </div>
                          <div className="h-8 border-l-2 border-dashed border-blue-300 my-2 relative">
                             <div className="absolute -bottom-2 left-1/2 -translate-x-1/2 text-blue-300"><ArrowDown size={16} /></div>
                          </div>
                          {/* Visibility Gap */}
                          <div className="bg-blue-50 border-2 border-blue-200 rounded-2xl p-5 shadow-sm w-full text-center mb-0 z-10">
                            <h4 className="font-bold text-blue-900 flex items-center justify-center gap-2 mb-2">
                              <MapPin size={18} /> Gap 1: Visibility
                            </h4>
                            <div className="text-xs text-left space-y-2 mt-3">
                              <div className="flex gap-2"><span className="text-red-500 font-bold">X</span><span className="text-slate-600">Missing: Consumer is lost.</span></div>
                              <div className="flex gap-2"><span className="text-green-500 font-bold">✓</span><span className="text-slate-600">Found: Proceeds to evaluation.</span></div>
                            </div>
                          </div>
                          {/* Connection down */}
                          <div className="flex-grow min-h-[30px] border-l-2 border-solid border-blue-500 my-2 relative">
                             <div className="absolute -bottom-2 left-1/2 -translate-x-1/2 text-blue-500"><ArrowDown size={16} /></div>
                          </div>
                        </div>

                        {/* Source 2: Direct / Paid */}
                        <div className="flex flex-col items-center h-full">
                          <div className="bg-white border-2 border-slate-200 rounded-2xl p-6 shadow-sm w-full text-center relative">
                            <div className="absolute -top-5 left-1/2 -translate-x-1/2 bg-slate-900 text-white p-2 rounded-full shadow-md">
                              <Radio size={20} />
                            </div>
                            <h3 className="font-bold text-lg text-slate-800 mt-2 mb-1">Paid & Direct</h3>
                            <p className="text-sm text-slate-500">Ads, Radio, Billboards</p>
                          </div>
                          <div className="flex-grow min-h-[40px] border-l-2 border-dashed border-slate-300 my-2 flex items-center justify-center relative w-full">
                             <div className="bg-slate-100 text-xs px-2 py-1 rounded-full text-slate-500 absolute border border-slate-200">Bypasses Visibility</div>
                             <div className="absolute -bottom-2 left-1/2 -translate-x-1/2 text-slate-300"><ArrowDown size={16} /></div>
                          </div>
                        </div>

                        {/* Source 3: Referrals */}
                        <div className="flex flex-col items-center h-full">
                          <div className="bg-white border-2 border-slate-200 rounded-2xl p-6 shadow-sm w-full text-center relative">
                            <div className="absolute -top-5 left-1/2 -translate-x-1/2 bg-slate-900 text-white p-2 rounded-full shadow-md">
                              <Users size={20} />
                            </div>
                            <h3 className="font-bold text-lg text-slate-800 mt-2 mb-1">Referrals</h3>
                            <p className="text-sm text-slate-500">Past clients, other attorneys</p>
                          </div>
                          <div className="flex-grow min-h-[40px] border-l-2 border-dashed border-green-300 my-2 flex items-center justify-center relative w-full">
                             <div className="bg-green-50 text-xs px-2 py-1 rounded-full text-green-700 absolute border border-green-200 shadow-sm flex items-center gap-1"><Star size={12}/> Borrowed Trust</div>
                             <div className="absolute -bottom-2 left-1/2 -translate-x-1/2 text-green-400"><ArrowDown size={16} /></div>
                          </div>
                        </div>

                      </div>

                      {/* THE TWO PILLARS (Evaluation) */}
                      <div className="grid grid-cols-1 md:grid-cols-2 gap-8 relative">
                        
                        {/* Horizontal connection arrows (Desktop only) */}
                        <div className="hidden md:flex absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 flex-col items-center justify-center gap-16 z-0 w-full px-12 pointer-events-none">
                          <div className="w-full flex items-center justify-between text-slate-300">
                            <ArrowRight size={20} className="transform rotate-180" />
                            <div className="flex-1 border-t-2 border-dashed border-slate-300 mx-2"></div>
                            <span className="bg-slate-50 text-slate-500 text-xs font-bold px-2 py-1 rounded-full border border-slate-200">Needs Validation</span>
                          </div>
                          <div className="w-full flex items-center justify-between text-slate-300 mt-8">
                            <span className="bg-slate-50 text-slate-500 text-xs font-bold px-2 py-1 rounded-full border border-slate-200">Needs More Info</span>
                            <div className="flex-1 border-t-2 border-dashed border-slate-300 mx-2"></div>
                            <ArrowRight size={20} />
                          </div>
                        </div>

                        {/* PILLAR 1: GOOGLE ECOSYSTEM */}
                        <div className="bg-slate-100 rounded-3xl p-6 border border-slate-200 relative z-10">
                          <div className="flex items-center justify-center gap-2 mb-6">
                            <div className="bg-blue-600 text-white p-2 rounded-lg"><Search size={20} /></div>
                            <h3 className="text-xl font-bold text-slate-800">Google Business Profile</h3>
                          </div>

                          <div className="space-y-6">
                            {/* Gap 4 */}
                            <div className="bg-white border-2 border-pink-200 rounded-2xl p-5 shadow-sm">
                              <h4 className="font-bold text-pink-900 flex items-center gap-2 mb-2">
                                <Star size={18} /> Gap 4: Trust (Reviews)
                              </h4>
                              <p className="text-sm text-slate-600 mb-3">They found you. Do your reviews tell a specific, relatable story about surviving divorce?</p>
                              
                              <div className="space-y-2 mt-4">
                                <div className="bg-green-50 border border-green-200 p-3 rounded-xl flex items-center justify-between">
                                  <span className="text-sm font-bold text-green-800">High Trust Found</span>
                                  <span className="bg-green-600 text-white text-xs font-bold px-2 py-1 rounded-md flex items-center gap-1">Call <ArrowRight size={12}/></span>
                                </div>
                                <div className="md:hidden flex justify-center text-slate-400 my-2"><ArrowDown size={16} /></div>
                                <div className="bg-slate-50 border border-slate-200 p-3 rounded-xl flex items-center justify-between md:hidden">
                                  <span className="text-sm text-slate-600 font-medium">Needs More Info</span>
                                  <span className="text-slate-400 text-xs font-bold px-2 py-1 flex items-center gap-1">Go to Website <ArrowDown size={12}/></span>
                                </div>
                              </div>
                            </div>
                          </div>
                        </div>

                        {/* PILLAR 2: WEBSITE ECOSYSTEM */}
                        <div className="bg-slate-100 rounded-3xl p-6 border border-slate-200 relative z-10 mt-8 md:mt-0">
                          <div className="flex items-center justify-center gap-2 mb-6">
                            <div className="bg-indigo-600 text-white p-2 rounded-lg"><Layout size={20} /></div>
                            <h3 className="text-xl font-bold text-slate-800">The Firm Website</h3>
                          </div>
                          
                          <div className="bg-white border-2 border-indigo-200 rounded-2xl p-5 shadow-sm relative overflow-hidden">
                            <div className="absolute top-0 right-0 bg-indigo-100 text-indigo-800 text-[10px] font-bold px-2 py-1 rounded-bl-lg uppercase">Evaluated Together</div>
                            
                            {/* Gap 2 */}
                            <div className="mb-5">
                              <h4 className="font-bold text-indigo-900 flex items-center gap-2 mb-1">
                                <Layout size={18} /> Gap 2: Positioning
                              </h4>
                              <p className="text-sm text-slate-600">Do you visually stand out from the 3 other clinical websites they just looked at?</p>
                            </div>

                            <div className="border-t border-slate-100 my-4"></div>

                            {/* Gap 3 */}
                            <div className="mb-4">
                              <h4 className="font-bold text-purple-900 flex items-center gap-2 mb-1">
                                <MessageSquare size={18} /> Gap 3: Message
                              </h4>
                              <p className="text-sm text-slate-600">Does your copy speak to their fear and pain, or is it just a corporate brochure?</p>
                            </div>
                          </div>
                        </div>

                      </div>

                      <div className="flex justify-center text-slate-300 my-2"><ArrowDown size={24} /></div>

                      {/* THE CLOSER: FAMILIARITY */}
                      <div className="bg-rose-900 rounded-3xl p-6 text-white shadow-lg relative overflow-hidden border border-rose-800 mx-auto max-w-4xl">
                        <div className="absolute right-0 top-0 opacity-10 transform translate-x-4 -translate-y-4">
                          <Users size={120} />
                        </div>
                        <div className="relative z-10 flex flex-col md:flex-row items-center justify-between gap-6">
                          <div className="flex-1">
                            <div className="inline-flex items-center gap-2 bg-rose-800 text-rose-200 text-xs font-bold px-3 py-1.5 rounded-full uppercase tracking-wide mb-3">
                              The Ultimate Closer
                            </div>
                            <h3 className="text-2xl font-bold flex items-center gap-3 mb-2">
                              <Users size={28} className="text-rose-400" />
                              Gap 5: Familiarity (Video)
                            </h3>
                            <p className="text-rose-100/90 leading-relaxed text-sm md:text-base">
                              They found you. Now, do they have to read text to guess what you're like, or can they <strong>experience working with you</strong> right now? When your website uses engaging video to show empathy, you build a parasocial relationship before they ever dial the phone.
                            </p>
                          </div>
                          <div className="w-full md:w-auto bg-rose-950/50 p-4 rounded-2xl border border-rose-800/50 text-center flex flex-col justify-center min-w-[200px]">
                            <span className="block text-rose-300 text-sm font-bold mb-2">When video closes this gap:</span>
                            <div className="bg-green-500 text-white font-bold py-2 px-4 rounded-xl flex items-center justify-center gap-2">
                              They call you <ArrowRight size={16} />
                            </div>
                          </div>
                        </div>
                      </div>

                      <div className="flex justify-center text-slate-300 my-2"><ArrowDown size={24} /></div>

                      {/* THE FINAL OUTCOME */}
                      <div className="bg-slate-900 rounded-3xl p-8 text-white text-center shadow-lg mx-auto max-w-4xl">
                        <h3 className="text-2xl font-bold mb-2">The Final Decision</h3>
                        <p className="text-slate-400 mb-6 text-sm">If your profiles and website fail to provide a compelling reason to choose you...</p>
                        
                        <div className="bg-red-950/40 rounded-2xl p-6 border border-red-900/50">
                          <div className="inline-flex justify-center items-center w-12 h-12 rounded-full bg-red-500/20 text-red-400 mb-4">
                            <XCircle size={24} />
                          </div>
                          <h4 className="font-bold text-lg text-red-400 mb-3">All Evaluative Gaps Open (The Default)</h4>
                          <div className="bg-slate-900 p-4 rounded-xl border border-slate-700 text-sm font-medium text-slate-300 text-left space-y-3">
                            <p>The consumer defaults to variables outside of your brand's value:</p>
                            <ul className="grid grid-cols-1 md:grid-cols-2 gap-3 text-red-300">
                              <li className="flex items-center gap-2"><MapPin size={16}/> Proximity (Closest office)</li>
                              <li className="flex items-center gap-2"><Star size={16}/> Review Volume (Just the number)</li>
                              <li className="flex items-center gap-2"><Activity size={16}/> Speed (Who answered first)</li>
                              <li className="flex items-center gap-2"><Layout size={16}/> Price (Cheapest consult)</li>
                            </ul>
                          </div>
                        </div>
                      </div>

                    </div>
                  </div>
                )}

                {/* --- The Framework Breakdown Tab --- */}
                {activeTab === 'framework' && (
                  <div className="space-y-12">
                    <div className="bg-white rounded-2xl shadow-sm border border-slate-200 p-8">
                      <h2 className="text-2xl font-bold mb-8 text-center">The Framework Breakdown</h2>
                      <div className="flex flex-col md:flex-row items-center justify-between gap-4 relative">
                        <div className="hidden md:block absolute top-1/2 left-0 w-full h-1 bg-slate-100 -translate-y-1/2 z-0"></div>
                        
                        {gapsData.map((gap, index) => {
                          const Icon = gap.icon;
                          const isActive = activeGap.id === gap.id;
                          
                          return (
                            <div key={gap.id} className="relative z-10 flex flex-col items-center w-full md:w-1/5 group cursor-pointer" onClick={() => setActiveGap(gap)}>
                              <div className={`w-16 h-16 rounded-2xl flex items-center justify-center transition-all duration-300 shadow-sm
                                ${isActive ? gap.activeColor + ' scale-110 shadow-md ring-4 ring-slate-100' : 'bg-white border-2 border-slate-200 text-slate-500 group-hover:border-slate-400 group-hover:text-slate-700'}`}
                              >
                                <Icon size={28} />
                              </div>
                              <div className="mt-4 text-center">
                                <p className={`text-xs font-bold uppercase tracking-wider mb-1 ${isActive ? 'text-slate-900' : 'text-slate-500'}`}>Gap {gap.id}</p>
                                <h3 className={`font-semibold ${isActive ? 'text-slate-900' : 'text-slate-600'}`}>{gap.name}</h3>
                              </div>
                              {index < gapsData.length - 1 && (
                                <div className="md:hidden my-4 text-slate-300">
                                  <ArrowRight size={24} className="rotate-90" />
                                </div>
                              )}
                            </div>
                          );
                        })}
                      </div>
                    </div>

                    <div className="grid grid-cols-1 md:grid-cols-3 gap-8">
                      <div className="md:col-span-2 space-y-6">
                        <div className="bg-white rounded-2xl shadow-sm border border-slate-200 overflow-hidden">
                          <div className={`${activeGap.color} px-8 py-6 border-b`}>
                            <div className="flex items-center gap-3 mb-2">
                              <activeGap.icon size={24} />
                              <h2 className="text-3xl font-bold">{activeGap.name}</h2>
                            </div>
                            <p className="text-lg font-medium opacity-90">"{activeGap.question}"</p>
                          </div>
                          <div className="p-8 space-y-8">
                            <div className="grid grid-cols-1 md:grid-cols-2 gap-8">
                              <div>
                                <h4 className="flex items-center gap-2 text-sm font-bold text-slate-500 uppercase tracking-wider mb-3">
                                  <AlertCircle size={16} /> What The Attorney Says
                                </h4>
                                <div className="bg-slate-50 rounded-xl p-5 border border-slate-100 h-full">
                                  <p className="text-slate-700 italic font-medium leading-relaxed">{activeGap.symptom}</p>
                                </div>
                              </div>
                              <div>
                                <h4 className="flex items-center gap-2 text-sm font-bold text-slate-500 uppercase tracking-wider mb-3">
                                  <Activity size={16} /> What's Actually Happening
                                </h4>
                                <div className="bg-slate-50 rounded-xl p-5 border border-slate-100 h-full">
                                  <p className="text-slate-700 leading-relaxed">{activeGap.reality}</p>
                                </div>
                              </div>
                            </div>
                            <div className="pt-6 border-t border-slate-100">
                              <h4 className="text-sm font-bold text-slate-500 uppercase tracking-wider mb-3">Why it matters in the ecosystem</h4>
                              <p className="text-slate-800 text-lg leading-relaxed">{activeGap.chainImpact}</p>
                            </div>
                          </div>
                        </div>
                      </div>

                      <div className="space-y-6">
                        <div className="bg-slate-900 rounded-2xl shadow-sm p-8 text-white">
                          <h4 className="text-sm font-bold text-slate-400 uppercase tracking-wider mb-4">The Diagnostic Question</h4>
                          <p className="text-xl font-medium leading-snug mb-6">{activeGap.diagnostic}</p>
                          <div className="inline-flex items-center gap-2 bg-slate-800 text-slate-300 text-xs font-bold px-3 py-1.5 rounded-full uppercase tracking-wide">
                            {activeGap.fixType}
                          </div>
                        </div>
                        <div className="bg-white rounded-2xl shadow-sm border border-slate-200 p-6">
                          <h4 className="text-sm font-bold text-slate-500 uppercase tracking-wider mb-4">The Final Default</h4>
                          <p className="text-sm text-slate-600 leading-relaxed">
                            If none of the evaluative gaps close, the consumer defaults to proximity, price, or whoever answers the phone first. The attorney loses a case they should have won, and they never know why.
                          </p>
                        </div>
                      </div>
                    </div>
                  </div>
                )}

                {/* --- Diagnostic Assessment Tab --- */}
                {activeTab === 'assessment' && (
                  <div className="max-w-3xl mx-auto">
                    <div className="bg-white rounded-2xl shadow-sm border border-slate-200 p-8 md:p-12">
                      <h2 className="text-3xl font-bold mb-2">Firm Diagnostic Assessment</h2>
                      <p className="text-slate-500 mb-8 pb-8 border-b border-slate-100">Answer these 5 questions honestly to see where your marketing is breaking down.</p>

                      {!assessmentComplete ? (
                        <div className="space-y-10">
                          {gapsData.map((gap, index) => (
                            <div key={gap.id} className="space-y-4">
                              <div className="flex gap-4">
                                <div className="flex-shrink-0 w-8 h-8 rounded-full bg-slate-100 text-slate-500 flex items-center justify-center font-bold">
                                  {index + 1}
                                </div>
                                <div>
                                  <h3 className="text-lg font-bold text-slate-800 mb-1">{gap.name}</h3>
                                  <p className="text-slate-600 font-medium mb-4">{gap.diagnostic}</p>
                                  <div className="flex flex-col sm:flex-row gap-3">
                                    <button 
                                      onClick={() => handleAssessmentChange(gap.id, 'pass')}
                                      className={`px-4 py-3 rounded-xl border font-medium transition-all text-left sm:text-center ${assessmentScores[gap.id] === 'pass' ? 'bg-green-50 border-green-500 text-green-700 ring-1 ring-green-500' : 'bg-white border-slate-200 text-slate-600 hover:bg-slate-50'}`}
                                    >
                                      Yes, I pass this easily
                                    </button>
                                    <button 
                                      onClick={() => handleAssessmentChange(gap.id, 'fail')}
                                      className={`px-4 py-3 rounded-xl border font-medium transition-all text-left sm:text-center ${assessmentScores[gap.id] === 'fail' ? 'bg-red-50 border-red-500 text-red-700 ring-1 ring-red-500' : 'bg-white border-slate-200 text-slate-600 hover:bg-slate-50'}`}
                                    >
                                      No, I fail this test
                                    </button>
                                  </div>
                                </div>
                              </div>
                            </div>
                          ))}

                          <div className="pt-8 border-t border-slate-100">
                            <button 
                              onClick={calculateResults}
                              disabled={Object.keys(assessmentScores).length < 5}
                              className="w-full bg-slate-900 text-white py-4 rounded-xl font-bold text-lg hover:bg-slate-800 transition-colors disabled:opacity-50 disabled:cursor-not-allowed"
                            >
                              Reveal Diagnosis
                            </button>
                            {Object.keys(assessmentScores).length < 5 && (
                              <p className="text-center text-sm text-slate-500 mt-3">Please answer all 5 questions to continue.</p>
                            )}
                          </div>
                        </div>
                      ) : (
                        <div className="space-y-8 animate-in fade-in duration-500">
                          <div className="bg-slate-50 rounded-xl p-8 text-center border border-slate-200">
                            <h3 className="text-2xl font-bold mb-2">Your Diagnostic Results</h3>
                            <p className="text-slate-600">Here is where your ecosystem is breaking down.</p>
                          </div>

                          <div className="space-y-4">
                            {gapsData.map((gap) => {
                              const isClosed = assessmentScores[gap.id] === 'pass';
                              return (
                                <div key={gap.id} className={`p-6 rounded-xl border flex gap-4 ${isClosed ? 'bg-white border-green-200' : 'bg-red-50 border-red-200'}`}>
                                  <div className="flex-shrink-0 mt-1">
                                    {isClosed ? <CheckCircle2 className="text-green-500" /> : <AlertCircle className="text-red-500" />}
                                  </div>
                                  <div>
                                    <h4 className={`font-bold text-lg mb-1 ${isClosed ? 'text-slate-800' : 'text-red-800'}`}>
                                      {gap.name}: {isClosed ? 'Closed' : 'Open'}
                                    </h4>
                                    <p className={isClosed ? 'text-slate-600' : 'text-red-700 opacity-90'}>
                                      {isClosed 
                                        ? "Consumers find validation at this stage." 
                                        : `You are losing prospects here. ${gap.fixType === 'Quick Fix (Firm Asset)' ? 'This is a firm asset issue that can be fixed relatively quickly.' : 'This is an external presence issue that requires compounding effort to build.'}`
                                      }
                                    </p>
                                  </div>
                                </div>
                              )
                            })}
                          </div>

                          <div className="pt-8">
                            <button 
                              onClick={resetAssessment}
                              className="text-slate-600 font-semibold hover:text-slate-900 flex items-center gap-2 justify-center w-full"
                            >
                              Reset Assessment
                            </button>
                          </div>
                        </div>
                      )}
                    </div>
                  </div>
                )}
              </main>
            </div>
          );
        }

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>
