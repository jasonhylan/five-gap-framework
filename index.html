<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Five Gap Framework</title>
    
    <!-- Load Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Load React -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    
    <!-- Load Babel to understand JSX -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState } = React;

        // --- Custom Icons ---
        const IconBase = ({ children, size = 24, className = "" }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}>
                {children}
            </svg>
        );

        const MapPin = (props) => <IconBase {...props}><path d="M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z"/><circle cx="12" cy="10" r="3"/></IconBase>;
        const Layout = (props) => <IconBase {...props}><rect width="18" height="18" x="3" y="3" rx="2" ry="2"/><line x1="3" x2="21" y1="9" y2="9"/><line x1="9" x2="9" y1="21" y2="9"/></IconBase>;
        const MessageSquare = (props) => <IconBase {...props}><path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"/></IconBase>;
        const Star = (props) => <IconBase {...props}><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/></IconBase>;
        const Users = (props) => <IconBase {...props}><path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"/><circle cx="9" cy="7" r="4"/><path d="M22 21v-2a4 4 0 0 0-3-3.87"/><path d="M16 3.13a4 4 0 0 1 0 7.75"/></IconBase>;
        const ArrowRight = (props) => <IconBase {...props}><line x1="5" y1="12" x2="19" y2="12"/><polyline points="12 5 19 12 12 19"/></IconBase>;
        const ArrowDown = (props) => <IconBase {...props}><line x1="12" y1="5" x2="12" y2="19"/><polyline points="19 12 12 19 5 12"/></IconBase>;
        const AlertCircle = (props) => <IconBase {...props}><circle cx="12" cy="12" r="10"/><line x1="12" y1="8" x2="12" y2="12"/><line x1="12" y1="16" x2="12.01" y2="16"/></IconBase>;
        const CheckCircle2 = (props) => <IconBase {...props}><circle cx="12" cy="12" r="10"/><path d="m9 12 2 2 4-4"/></IconBase>;
        const Activity = (props) => <IconBase {...props}><polyline points="22 12 18 12 15 21 9 3 6 12 2 12"/></IconBase>;
        const ClipboardList = (props) => <IconBase {...props}><rect width="8" height="4" x="8" y="2" rx="1" ry="1"/><path d="M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"/><path d="M12 11h4"/><path d="M12 16h4"/><path d="M8 11h.01"/><path d="M8 16h.01"/></IconBase>;
        const Network = (props) => <IconBase {...props}><rect x="16" y="16" width="6" height="6" rx="1"/><rect x="2" y="16" width="6" height="6" rx="1"/><rect x="9" y="2" width="6" height="6" rx="1"/><path d="M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3"/><path d="M12 12V8"/></IconBase>;
        const XCircle = (props) => <IconBase {...props}><circle cx="12" cy="12" r="10"/><line x1="15" y1="9" x2="9" y2="15"/><line x1="9" y1="9" x2="15" y2="15"/></IconBase>;
        const Trophy = (props) => <IconBase {...props}><path d="M6 9H4.5a2.5 2.5 0 0 1 0-5H6"/><path d="M18 9h1.5a2.5 2.5 0 0 0 0-5H18"/><path d="M4 22h16"/><path d="M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22"/><path d="M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22"/><path d="M18 2H6v7a6 6 0 0 0 12 0V2Z"/></IconBase>;
        const Search = (props) => <IconBase {...props}><circle cx="11" cy="11" r="8"/><line x1="21" x2="16.65" y1="21" y2="16.65"/></IconBase>;
        const Radio = (props) => <IconBase {...props}><circle cx="12" cy="12" r="2"/><path d="M16.24 7.76a6 6 0 0 1 0 8.49m-8.48-.01a6 6 0 0 1 0-8.49m11.31-2.82a10 10 0 0 1 0 14.14m-14.14 0a10 10 0 0 1 0-14.14"/></IconBase>;

        const gapsData = [
          {
            id: 1,
            name: "Visibility Gap",
            icon: MapPin,
            question: "Can they find you?",
            symptom: `They search for their firm from their own office, see themselves at the top, and assume that's what the rest of the city sees.`,
            reality: `Their visibility is a small circle around their office, not a presence across the market. Someone searching "divorce attorney near me" from ten minutes away may never see them. It's a shape and coverage problem, not a ranking problem.`,
            chainImpact: "For active searchers, this is the first gate. If they can't find you, nothing else matters. However, other traffic sources (referrals, ads) bypass this gap entirely.",
            diagnostic: "If someone searched your primary keyword from 20 different points across your market, how many of those would show your firm in the top 3?",
            fixType: "Quick Fix (Firm Asset)",
            color: "bg-blue-100 text-blue-800 border-blue-300",
            activeColor: "bg-blue-600 text-white"
          },
          {
            id: 2,
            name: "Positioning Gap",
            icon: Layout,
            question: "Do you stand out once they find you?",
            symptom: `They think their site stands out because they spent hours picking a specific dark blue hex code and selecting the perfect photo of the local courthouse.`,
            reality: `Open five divorce attorney websites in the same city. Swap the logos. Nothing feels wrong. The sites lead with credentials, list multiple practice areas, and use the same stock imagery. Nothing tells the consumer why this firm and not the one above or below it.`,
            chainImpact: "When a consumer visits 3 websites that look identical, they can't decide. The positioning gap pushes the consumer into the trust gap.",
            diagnostic: "If another attorney swapped their logo onto your website, would anything feel wrong?",
            fixType: "Quick Fix (Firm Asset)",
            color: "bg-indigo-100 text-indigo-800 border-indigo-300",
            activeColor: "bg-indigo-600 text-white"
          },
          {
            id: 3,
            name: "Message Gap",
            icon: MessageSquare,
            question: `Does your website sound like it was written for someone Googling at 2am after the worst conversation of their life? Or does it sound like it was written for a conference booth?`,
            symptom: `They don't realize their website reads like a brochure for a service, not a lifeline for a person in crisis. It talks about experience, awards, and practice areas while the person reading it just needs to know someone understands what they're going through.`,
            reality: `The copy is written for attorneys, not for the person sitting alone at their kitchen table trying to figure out what happens next. "We provide aggressive representation" means nothing to someone who doesn't even know what to ask for yet. The gap isn't that the copy is bad. It's that it's speaking to a rational buyer when there is no rational buyer.`,
            chainImpact: "Even with differentiated positioning, a clinical website confirms their fear that lawyers don't get what they're going through. They leave.",
            diagnostic: "Read your homepage out loud. Does it sound like you're talking to a person going through the worst year of their life, or does it sound like a brochure?",
            fixType: "Quick Fix (Firm Asset)",
            color: "bg-purple-100 text-purple-800 border-purple-300",
            activeColor: "bg-purple-600 text-white"
          },
          {
            id: 4,
            name: "Trust Gap",
            icon: Star,
            question: "Are you externally validated for a decision this big?",
            symptom: `They think having a 4.8-star average is the finish line. They don't realize that "Great lawyer, very professional" does nothing when someone is trying to decide who to trust with their kids and their future.`,
            reality: `The difference between a review that says "John was very professional and responsive" and one that says "I called John the morning my husband moved out. He walked me through what the next 48 hours would look like. I didn't feel so alone after that." One confirms competence. The other creates connection. Most firms have dozens of the first kind and zero of the second.`,
            chainImpact: "Whether reading reviews on Google or looking at trust badges and testimonials on your website, generic validation leaves the consumer stuck. Specific stories create connection.",
            diagnostic: "If a stranger read a random review from your profile or website, would that review help them choose you over the attorney listed above and below you?",
            fixType: "Compound/Long-term (External & Internal)",
            color: "bg-pink-100 text-pink-800 border-pink-300",
            activeColor: "bg-pink-600 text-white"
          },
          {
            id: 5,
            name: "Familiarity Gap",
            icon: Users,
            question: "Can they experience working with you before they call?",
            symptom: `They think the consultation is where the relationship starts. They don't realize that by the time someone books, they've already chosen. The consult is a confirmation, not an audition. If there's no video, the attorney never made the shortlist.`,
            reality: `The website has text and a headshot. Maybe a team photo. But the consumer can't hear the attorney's voice, see how they explain something complicated, or get any feel for whether this person would actually understand their situation. Video lets someone build a relationship with the attorney before they ever pick up the phone. Without it, the attorney is just a name on a list.`,
            chainImpact: "They have to find you first. But once they do, video is the ultimate closer. By using video to show empathy during the research phase, you create a parasocial relationship. The prospect walks into the consult already feeling like they know you.",
            diagnostic: "Can a prospect watch 5 minutes of you speaking, explaining, and showing empathy before they ever pick up the phone?",
            fixType: "High-Impact Asset (Video)",
            color: "bg-rose-100 text-rose-800 border-rose-300",
            activeColor: "bg-rose-600 text-white"
          }
        ];

        function App() {
          const [activeTab, setActiveTab] = useState('flowchart');
          const [activeGap, setActiveGap] = useState(gapsData[0]);
          const [assessmentScores, setAssessmentScores] = useState({});
          const [assessmentComplete, setAssessmentComplete] = useState(false);

          const handleAssessmentChange = (gapId, value) => {
            setAssessmentScores(prev => ({ ...prev, [gapId]: value }));
          };

          const calculateResults = () => {
            setAssessmentComplete(true);
          };

          const resetAssessment = () => {
            setAssessmentScores({});
            setAssessmentComplete(false);
          };

          return (
            <div className="min-h-screen bg-slate-50 text-slate-900 font-sans pb-12">
              <header className="bg-slate-900 text-white py-12 px-6">
                <div className="max-w-6xl mx-auto">
                  <h1 className="text-4xl font-bold mb-4 tracking-tight">The Five Gap Framework</h1>
                  <p className="text-xl text-slate-300 max-w-3xl leading-relaxed">
                    A diagnostic framework identifying the five places where a divorce attorney's marketing breaks down 
                    between "someone needs a divorce attorney" and "someone calls your firm."
                  </p>
                </div>
              </header>

              <div className="max-w-6xl mx-auto px-6 mt-8 mb-8">
                <div className="flex flex-wrap gap-2 md:gap-4 border-b border-slate-200 pb-px">
                  <button 
                    onClick={() => setActiveTab('flowchart')}
                    className={`pb-4 px-4 text-sm font-semibold tracking-wide transition-colors ${activeTab === 'flowchart' ? 'border-b-2 border-slate-900 text-slate-900' : 'text-slate-500 hover:text-slate-700'}`}
                  >
                    <div className="flex items-center gap-2">
                      <Network size={18} />
                      Ecosystem Flowchart
                    </div>
                  </button>
                  <button 
                    onClick={() => setActiveTab('framework')}
                    className={`pb-4 px-4 text-sm font-semibold tracking-wide transition-colors ${activeTab === 'framework' ? 'border-b-2 border-slate-900 text-slate-900' : 'text-slate-500 hover:text-slate-700'}`}
                  >
                    <div className="flex items-center gap-2">
                      <Activity size={18} />
                      Interactive Framework
                    </div>
                  </button>
                  <button 
                    onClick={() => setActiveTab('assessment')}
                    className={`pb-4 px-4 text-sm font-semibold tracking-wide transition-colors ${activeTab === 'assessment' ? 'border-b-2 border-slate-900 text-slate-900' : 'text-slate-500 hover:text-slate-700'}`}
                  >
                    <div className="flex items-center gap-2">
                      <ClipboardList size={18} />
                      Diagnostic Assessment
                    </div>
                  </button>
                </div>
              </div>

              <main className="max-w-6xl mx-auto px-6">
                {activeTab === 'flowchart' && (
                  <div className="max-w-5xl mx-auto py-8 animate-in fade-in duration-500">
                    <div className="text-center mb-12">
                      <h2 className="text-3xl font-bold mb-4">The Continuous Ecosystem</h2>
                      <p className="text-slate-600 max-w-3xl mx-auto text-lg leading-relaxed">
                        Consumers enter from different sources, but they all flow into the same evaluative phase. Here is how your marketing assets connect to drive a final decision.
                      </p>
                    </div>

                    <div className="space-y-0 relative">
                      
                      {/* --- PHASE 1: DISCOVERY & ENTRY --- */}
                      <div className="grid grid-cols-1 md:grid-cols-3 gap-6 relative z-10 mb-8">
                        
                        {/* Source 1: Search */}
                        <div className="flex flex-col items-center h-full w-full">
                          <div className="bg-white border-2 border-slate-200 rounded-2xl p-6 shadow-sm w-full text-center relative z-10">
                            <div className="absolute -top-5 left-1/2 -translate-x-1/2 bg-slate-900 text-white p-2 rounded-full shadow-md">
                              <Search size={20} />
                            </div>
                            <h3 className="font-bold text-lg text-slate-800 mt-2 mb-1">Active Search</h3>
                            <p className="text-sm text-slate-500">Google Map Pack & Organic</p>
                          </div>
                          
                          {/* Gap 1 Box */}
                          <div className="w-[2px] bg-slate-300 h-6"></div>
                          
                          <div className="bg-blue-50 border-2 border-blue-200 rounded-2xl p-5 shadow-sm w-full text-center z-10">
                            <h4 className="font-bold text-blue-900 flex items-center justify-center gap-2 mb-1">
                              <MapPin size={18} /> Gap 1: Visibility
                            </h4>
                            <p className="text-xs font-medium text-blue-600 italic mb-2">They assume searching from the office reflects reality.</p>
                            <div className="text-xs text-left space-y-2 mt-3">
                              <div className="flex gap-2"><span className="text-red-500 font-bold">X</span><span className="text-slate-600">Missing = Lost.</span></div>
                              <div className="flex gap-2"><span className="text-green-500 font-bold">✓</span><span className="text-slate-600">Found = Proceeds down.</span></div>
                            </div>
                          </div>
                          
                          {/* Connection to unified funnel */}
                          <div className="flex flex-col items-center flex-grow w-full">
                             <div className="w-[2px] bg-slate-300 flex-grow min-h-[30px]"></div>
                             <div className="text-slate-400 -mt-1"><ArrowDown size={20} /></div>
                          </div>
                        </div>

                        {/* Source 2: Direct / Paid */}
                        <div className="flex flex-col items-center h-full w-full">
                          <div className="bg-white border-2 border-slate-200 rounded-2xl p-6 shadow-sm w-full text-center relative z-10">
                            <div className="absolute -top-5 left-1/2 -translate-x-1/2 bg-slate-900 text-white p-2 rounded-full shadow-md">
                              <Radio size={20} />
                            </div>
                            <h3 className="font-bold text-lg text-slate-800 mt-2 mb-1">Paid & Direct</h3>
                            <p className="text-sm text-slate-500">Ads, Radio, Billboards</p>
                          </div>
                          
                          {/* Connection to unified funnel */}
                          <div className="flex flex-col items-center flex-grow w-full">
                             <div className="w-[2px] border-l-2 border-dashed border-slate-300 h-12"></div>
                             <div className="bg-slate-50 text-xs px-3 py-1.5 rounded-full text-slate-500 font-medium border border-slate-200 z-10 whitespace-nowrap shadow-sm">Bypasses Visibility</div>
                             <div className="w-[2px] border-l-2 border-dashed border-slate-300 flex-grow min-h-[30px]"></div>
                             <div className="text-slate-400 -mt-1"><ArrowDown size={20} /></div>
                          </div>
                        </div>

                        {/* Source 3: Referrals */}
                        <div className="flex flex-col items-center h-full w-full">
                          <div className="bg-white border-2 border-slate-200 rounded-2xl p-6 shadow-sm w-full text-center relative z-10">
                            <div className="absolute -top-5 left-1/2 -translate-x-1/2 bg-slate-900 text-white p-2 rounded-full shadow-md">
                              <Users size={20} />
                            </div>
                            <h3 className="font-bold text-lg text-slate-800 mt-2 mb-1">Referrals</h3>
                            <p className="text-sm text-slate-500">Past clients, other attorneys</p>
                          </div>
                          
                          {/* Connection to unified funnel */}
                          <div className="flex flex-col items-center flex-grow w-full">
                             <div className="w-[2px] border-l-2 border-dashed border-green-300 h-12"></div>
                             <div className="bg-green-50 text-xs px-3 py-1.5 rounded-full text-green-700 font-bold border border-green-200 shadow-sm flex items-center gap-1 z-10 whitespace-nowrap"><Star size={12}/> Borrowed Trust</div>
                             <div className="w-[2px] border-l-2 border-dashed border-green-300 flex-grow min-h-[30px]"></div>
                             <div className="text-green-500 -mt-1"><ArrowDown size={20} /></div>
                          </div>
                        </div>

                      </div>


                      {/* --- PHASE 2: THE EVALUATION GAUNTLET --- */}
                      <div className="bg-slate-100 rounded-3xl p-6 md:p-8 border border-slate-200 relative shadow-inner mb-0">
                        <div className="absolute -top-3 left-1/2 -translate-x-1/2 bg-slate-800 text-white text-xs font-bold px-4 py-1.5 rounded-full uppercase tracking-wider shadow-sm">
                          Phase 2: The Evaluation
                        </div>
                        
                        <div className="text-center mb-6 mt-4">
                          <p className="text-slate-600 font-medium">All traffic sources merge here. Consumers look at your Website and Online Profile concurrently to answer three questions:</p>
                        </div>

                        <div className="grid grid-cols-1 md:grid-cols-3 gap-6">
                          
                          {/* Gap 2 */}
                          <div className="bg-white border-2 border-indigo-200 rounded-2xl p-5 shadow-sm">
                            <h4 className="font-bold text-indigo-900 flex items-center gap-2 mb-1">
                              <Layout size={18} /> Gap 2: Positioning
                            </h4>
                            <p className="text-xs font-medium text-indigo-600 italic mb-3">They think custom colors = unique positioning.</p>
                            <p className="text-sm text-slate-600">Do you visually stand out from the other clinical firm websites?</p>
                          </div>

                          {/* Gap 3 */}
                          <div className="bg-white border-2 border-purple-200 rounded-2xl p-5 shadow-sm">
                            <h4 className="font-bold text-purple-900 flex items-center gap-2 mb-1">
                              <MessageSquare size={18} /> Gap 3: Message
                            </h4>
                            <p className="text-xs font-medium text-purple-600 italic mb-3">They don't realize their site reads like a textbook.</p>
                            <p className="text-sm text-slate-600">Does your website copy speak to their fear and pain directly?</p>
                          </div>

                          {/* Gap 4 */}
                          <div className="bg-white border-2 border-pink-200 rounded-2xl p-5 shadow-sm relative overflow-hidden">
                            <div className="absolute top-0 right-0 bg-pink-100 text-pink-800 text-[9px] font-bold px-2 py-1 rounded-bl-lg uppercase tracking-wider">External Trust</div>
                            <h4 className="font-bold text-pink-900 flex items-center gap-2 mb-1">
                              <Star size={18} /> Gap 4: Trust
                            </h4>
                            <p className="text-xs font-medium text-pink-600 italic mb-3">They assume a 5-star average is all it takes.</p>
                            <p className="text-sm text-slate-600">Do your Google reviews and website trust badges validate your claims?</p>
                          </div>

                        </div>
                      </div>


                      {/* --- PHASE 3: THE CLOSER --- */}
                      <div className="flex flex-col items-center justify-center w-full pt-4">
                        <div className="w-[2px] bg-slate-300 h-10"></div>
                        <div className="text-slate-400 -mt-1 z-10"><ArrowDown size={20} /></div>

                        <div className="bg-rose-900 rounded-3xl p-6 md:p-8 text-white shadow-lg relative border border-rose-800 w-full max-w-4xl mt-6">
                          {/* Wrapper for the background icon to prevent badge clipping */}
                          <div className="absolute inset-0 rounded-3xl overflow-hidden pointer-events-none z-0">
                            <div className="absolute right-0 top-0 opacity-10 transform translate-x-4 -translate-y-4">
                              <Users size={120} />
                            </div>
                          </div>
                          
                          <div className="absolute -top-4 left-1/2 -translate-x-1/2 bg-rose-500 text-white text-xs font-bold px-5 py-1.5 rounded-full uppercase tracking-wider shadow-md z-20 whitespace-nowrap">
                            Phase 3: The Closer
                          </div>
                          
                          <div className="relative z-10 flex flex-col md:flex-row items-center justify-between gap-8 pt-2">
                            <div className="flex-1">
                              <div className="flex flex-wrap items-center gap-3 mb-2">
                                <h3 className="text-2xl font-bold flex items-center gap-2">
                                  <Users size={28} className="text-rose-400" />
                                  Gap 5: Familiarity (Video)
                                </h3>
                                {/* Trust Builder Badge */}
                                <span className="flex items-center gap-1.5 bg-pink-500/20 text-pink-200 text-xs font-bold px-2.5 py-1 rounded-md border border-pink-500/30">
                                  <Star size={14} className="text-pink-400" /> The Ultimate Trust Signal
                                </span>
                              </div>
                              <p className="text-sm font-medium text-rose-300 italic mb-3">They assume the "selling" starts at the consultation.</p>
                              <p className="text-rose-100/90 leading-relaxed text-sm md:text-base">
                                They evaluated you and stuck around. Now, do they have to read text to guess what you're like, or can they <strong>experience working with you</strong> right now? Engaging video doesn't just build familiarity—it builds a parasocial relationship that supersedes the need for external reviews.
                              </p>
                            </div>
                            <div className="w-full md:w-auto bg-rose-950/50 p-5 rounded-2xl border border-rose-800/50 text-center flex flex-col justify-center min-w-[200px]">
                              <span className="block text-rose-300 text-sm font-bold mb-3">When video closes this gap:</span>
                              <div className="bg-green-500 text-white font-bold py-2.5 px-5 rounded-xl flex items-center justify-center gap-2 shadow-sm">
                                They call ready to hire <ArrowRight size={16} />
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>


                      {/* --- PHASE 4: THE DEFAULT OUTCOME --- */}
                      <div className="flex flex-col items-center justify-center w-full">
                        <div className="w-[2px] bg-slate-300 h-10 mt-2"></div>
                        <div className="text-slate-400 -mt-1 z-10"><ArrowDown size={20} /></div>

                        <div className="bg-slate-900 rounded-3xl p-8 text-white text-center shadow-lg w-full max-w-4xl mt-6 relative">
                          <h3 className="text-2xl font-bold mb-2">The Final Decision</h3>
                          <p className="text-slate-400 mb-6 text-sm">If your evaluation phase and website fail to provide a compelling reason to choose you...</p>
                          
                          <div className="bg-red-950/40 rounded-2xl p-6 border border-red-900/50">
                            <div className="inline-flex justify-center items-center w-12 h-12 rounded-full bg-red-500/20 text-red-400 mb-4">
                              <XCircle size={24} />
                            </div>
                            <h4 className="font-bold text-lg text-red-400 mb-3">All Evaluative Gaps Open (The Default)</h4>
                            <div className="bg-slate-900 p-5 rounded-xl border border-slate-700 text-sm font-medium text-slate-300 text-left space-y-4">
                              <p>The consumer defaults to variables completely outside of your brand's value:</p>
                              <ul className="grid grid-cols-1 md:grid-cols-2 gap-4 text-red-300">
                                <li className="flex items-center gap-2"><MapPin size={18}/> Proximity (Closest office)</li>
                                <li className="flex items-center gap-2"><Star size={18}/> Review Volume (Just the number)</li>
                                <li className="flex items-center gap-2"><Activity size={18}/> Speed (Who answered first)</li>
                                <li className="flex items-center gap-2"><Layout size={18}/> Price (Cheapest consult)</li>
                              </ul>
                            </div>
                          </div>
                        </div>
                      </div>

                    </div>
                  </div>
                )}

                {/* --- The Framework Breakdown Tab --- */}
                {activeTab === 'framework' && (
                  <div className="space-y-12">
                    <div className="bg-white rounded-2xl shadow-sm border border-slate-200 p-8">
                      <h2 className="text-2xl font-bold mb-8 text-center">The Framework Breakdown</h2>
                      <div className="flex flex-col md:flex-row items-center justify-between gap-4 relative">
                        <div className="hidden md:block absolute top-1/2 left-0 w-full h-1 bg-slate-100 -translate-y-1/2 z-0"></div>
                        
                        {gapsData.map((gap, index) => {
                          const Icon = gap.icon;
                          const isActive = activeGap.id === gap.id;
                          
                          return (
                            <div key={gap.id} className="relative z-10 flex flex-col items-center w-full md:w-1/5 group cursor-pointer" onClick={() => setActiveGap(gap)}>
                              <div className={`w-16 h-16 rounded-2xl flex items-center justify-center transition-all duration-300 shadow-sm
                                ${isActive ? gap.activeColor + ' scale-110 shadow-md ring-4 ring-slate-100' : 'bg-white border-2 border-slate-200 text-slate-500 group-hover:border-slate-400 group-hover:text-slate-700'}`}
                              >
                                <Icon size={28} />
                              </div>
                              <div className="mt-4 text-center">
                                <p className={`text-xs font-bold uppercase tracking-wider mb-1 ${isActive ? 'text-slate-900' : 'text-slate-500'}`}>Gap {gap.id}</p>
                                <h3 className={`font-semibold ${isActive ? 'text-slate-900' : 'text-slate-600'}`}>{gap.name}</h3>
                              </div>
                              {index < gapsData.length - 1 && (
                                <div className="md:hidden my-4 text-slate-300">
                                  <ArrowRight size={24} className="rotate-90" />
                                </div>
                              )}
                            </div>
                          );
                        })}
                      </div>
                    </div>

                    <div className="grid grid-cols-1 md:grid-cols-3 gap-8">
                      <div className="md:col-span-2 space-y-6">
                        <div className="bg-white rounded-2xl shadow-sm border border-slate-200 overflow-hidden">
                          <div className={`${activeGap.color} px-8 py-6 border-b`}>
                            <div className="flex items-center gap-3 mb-2">
                              <activeGap.icon size={24} />
                              <h2 className="text-3xl font-bold">{activeGap.name}</h2>
                            </div>
                            <p className="text-lg font-medium opacity-90">"{activeGap.question}"</p>
                          </div>
                          <div className="p-8 space-y-8">
                            <div className="grid grid-cols-1 md:grid-cols-2 gap-8">
                              <div>
                                <h4 className="flex items-center gap-2 text-sm font-bold text-slate-500 uppercase tracking-wider mb-3">
                                  <AlertCircle size={16} /> What The Attorney Doesn't Realize
                                </h4>
                                <div className="bg-slate-50 rounded-xl p-5 border border-slate-100 h-full">
                                  <p className="text-slate-700 font-medium leading-relaxed">{activeGap.symptom}</p>
                                </div>
                              </div>
                              <div>
                                <h4 className="flex items-center gap-2 text-sm font-bold text-slate-500 uppercase tracking-wider mb-3">
                                  <Activity size={16} /> What's Actually Happening
                                </h4>
                                <div className="bg-slate-50 rounded-xl p-5 border border-slate-100 h-full">
                                  <p className="text-slate-700 leading-relaxed">{activeGap.reality}</p>
                                </div>
                              </div>
                            </div>
                            <div className="pt-6 border-t border-slate-100">
                              <h4 className="text-sm font-bold text-slate-500 uppercase tracking-wider mb-3">Why it matters in the ecosystem</h4>
                              <p className="text-slate-800 text-lg leading-relaxed">{activeGap.chainImpact}</p>
                            </div>
                          </div>
                        </div>
                      </div>

                      <div className="space-y-6">
                        <div className="bg-slate-900 rounded-2xl shadow-sm p-8 text-white">
                          <h4 className="text-sm font-bold text-slate-400 uppercase tracking-wider mb-4">The Diagnostic Question</h4>
                          <p className="text-xl font-medium leading-snug mb-6">{activeGap.diagnostic}</p>
                          <div className="inline-flex items-center gap-2 bg-slate-800 text-slate-300 text-xs font-bold px-3 py-1.5 rounded-full uppercase tracking-wide">
                            {activeGap.fixType}
                          </div>
                        </div>
                        <div className="bg-white rounded-2xl shadow-sm border border-slate-200 p-6">
                          <h4 className="text-sm font-bold text-slate-500 uppercase tracking-wider mb-4">The Final Default</h4>
                          <p className="text-sm text-slate-600 leading-relaxed">
                            If none of the evaluative gaps close, the consumer defaults to proximity, price, or whoever answers the phone first. The attorney loses a case they should have won, and they never know why.
                          </p>
                        </div>
                      </div>
                    </div>
                  </div>
                )}

                {/* --- Diagnostic Assessment Tab --- */}
                {activeTab === 'assessment' && (
                  <div className="max-w-3xl mx-auto">
                    <div className="bg-white rounded-2xl shadow-sm border border-slate-200 p-8 md:p-12">
                      <h2 className="text-3xl font-bold mb-2">Firm Diagnostic Assessment</h2>
                      <p className="text-slate-500 mb-8 pb-8 border-b border-slate-100">Answer these 5 questions honestly to see where your marketing is breaking down.</p>

                      {!assessmentComplete ? (
                        <div className="space-y-10">
                          {gapsData.map((gap, index) => (
                            <div key={gap.id} className="space-y-4">
                              <div className="flex gap-4">
                                <div className="flex-shrink-0 w-8 h-8 rounded-full bg-slate-100 text-slate-500 flex items-center justify-center font-bold">
                                  {index + 1}
                                </div>
                                <div>
                                  <h3 className="text-lg font-bold text-slate-800 mb-1">{gap.name}</h3>
                                  <p className="text-slate-600 font-medium mb-4">{gap.diagnostic}</p>
                                  <div className="flex flex-col sm:flex-row gap-3">
                                    <button 
                                      onClick={() => handleAssessmentChange(gap.id, 'pass')}
                                      className={`px-4 py-3 rounded-xl border font-medium transition-all text-left sm:text-center ${assessmentScores[gap.id] === 'pass' ? 'bg-green-50 border-green-500 text-green-700 ring-1 ring-green-500' : 'bg-white border-slate-200 text-slate-600 hover:bg-slate-50'}`}
                                    >
                                      Yes, I pass this easily
                                    </button>
                                    <button 
                                      onClick={() => handleAssessmentChange(gap.id, 'fail')}
                                      className={`px-4 py-3 rounded-xl border font-medium transition-all text-left sm:text-center ${assessmentScores[gap.id] === 'fail' ? 'bg-red-50 border-red-500 text-red-700 ring-1 ring-red-500' : 'bg-white border-slate-200 text-slate-600 hover:bg-slate-50'}`}
                                    >
                                      No, I fail this test
                                    </button>
                                  </div>
                                </div>
                              </div>
                            </div>
                          ))}

                          <div className="pt-8 border-t border-slate-100">
                            <button 
                              onClick={calculateResults}
                              disabled={Object.keys(assessmentScores).length < 5}
                              className="w-full bg-slate-900 text-white py-4 rounded-xl font-bold text-lg hover:bg-slate-800 transition-colors disabled:opacity-50 disabled:cursor-not-allowed"
                            >
                              Reveal Diagnosis
                            </button>
                            {Object.keys(assessmentScores).length < 5 && (
                              <p className="text-center text-sm text-slate-500 mt-3">Please answer all 5 questions to continue.</p>
                            )}
                          </div>
                        </div>
                      ) : (
                        <div className="space-y-8 animate-in fade-in duration-500">
                          <div className="bg-slate-50 rounded-xl p-8 text-center border border-slate-200">
                            <h3 className="text-2xl font-bold mb-2">Your Diagnostic Results</h3>
                            <p className="text-slate-600">Here is where your ecosystem is breaking down.</p>
                          </div>

                          <div className="space-y-4">
                            {gapsData.map((gap) => {
                              const isClosed = assessmentScores[gap.id] === 'pass';
                              return (
                                <div key={gap.id} className={`p-6 rounded-xl border flex gap-4 ${isClosed ? 'bg-white border-green-200' : 'bg-red-50 border-red-200'}`}>
                                  <div className="flex-shrink-0 mt-1">
                                    {isClosed ? <CheckCircle2 className="text-green-500" /> : <AlertCircle className="text-red-500" />}
                                  </div>
                                  <div>
                                    <h4 className={`font-bold text-lg mb-1 ${isClosed ? 'text-slate-800' : 'text-red-800'}`}>
                                      {gap.name}: {isClosed ? 'Closed' : 'Open'}
                                    </h4>
                                    <p className={isClosed ? 'text-slate-600' : 'text-red-700 opacity-90'}>
                                      {isClosed 
                                        ? "Consumers find validation at this stage." 
                                        : `You are losing prospects here. ${gap.fixType === 'Quick Fix (Firm Asset)' ? 'This is a firm asset issue that can be fixed relatively quickly.' : 'This is an external presence issue that requires compounding effort to build.'}`
                                      }
                                    </p>
                                  </div>
                                </div>
                              )
                            })}
                          </div>

                          <div className="pt-8">
                            <button 
                              onClick={resetAssessment}
                              className="text-slate-600 font-semibold hover:text-slate-900 flex items-center gap-2 justify-center w-full"
                            >
                              Reset Assessment
                            </button>
                          </div>
                        </div>
                      )}
                    </div>
                  </div>
                )}
              </main>
            </div>
          );
        }

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>
